\chapter{具体需求}
\section{功能需求}

本章节描述xyz云盘系统所必须执行的基本动作，以及其输入、输出，以及中间处理的过程。
\subsection{R.XYZ.CLOUDSTORAGE.USER.LOGIN.001 用户：显示初始登陆界面 }

\subsubsection{介绍}
打开客户端之后，用户需要登陆，才可以访问自己的存储数据。登陆需要友好的登录界面。

\subsubsection{输入}
用户打开客户端。

\subsubsection{处理}
生成登录窗口，包括用户名密码等窗口，其中，密码需要密码显示的保护处理。
\subsubsection{输出}
显示友好的登录窗口。

\subsection{R.XYZ.CLOUDSTORAGE.USER.LOGIN.002 用户：密码验证 }

\subsubsection{介绍}
在看到登陆界面之后，用户需要输入用户名密码，并通过”登陆“键提交密码，以进行验证并登陆。

\subsubsection{输入}
用户输入用户名和密码，按”登陆“键，或者”Enter“键。

\subsubsection{处理}
客户端将用户名密码，结合时间戳进行密码学处理之后打包，发送给服务器端。
服务器端通过密码学手段验证密码。如果密码正确，返回带有时间戳的cookie给客户端。如果密码错误，则返回错误信息给客户端。错误次数不能超过4次。超过则禁止ip尝试同一用户。如果发生通信异常，则保存异常信息到异常日志中，同时客户端重传，直到超时。

\subsubsection{输出}
如果密码正确，显示用户的跟文件夹；如果密码错误，显示”密码错误“，以及错误次数，进行警告。如果通信异常，则显示通信异常信息。

\subsection{R.XYZ.CLOUDSTORAGE.USER.LOGIN.003 用户：退出 }

\subsubsection{介绍}
用户能够退出客户端，结束本次使用。

\subsubsection{输入}
用户按下“退出”按钮，或者直接关闭客户端。

\subsubsection{处理}
用户“按下退出”按钮后，客户端发包给服务器端，提示结束本次使用。服务器端将该用户设置为“离线”状态。
用户通过其他方式直接关闭客户端时（包括强制关闭，关机等），服务器端定期检查客户端是否在线，如果超时无回应，则自动设置为“离线”状态。

\subsubsection{输出}
客户端被关闭。

\subsection{R.XYZ.CLOUDSTORAGE.FILE.001 文件：打开文件夹}

\subsubsection{介绍}
用户可以打开文件夹，查看所包含的文件及子文件夹。

\subsubsection{输入}
用户双击文件夹，或者选中文件夹之后点击打开选项。

\subsubsection{处理}
客户端将打开文件夹的指令打包，发送到服务器，服务器传回文件夹内容。客户端接收之后，切换路径到所选中的文件夹，并展示其所包含的文件及文件夹。

异常：如果通信失败，则客户端重传，直到超时。

\subsubsection{输出}
若无异常发生，用户可以看到文件夹中的文件以及子文件夹。

若有异常发生，则将异常信息保存到日志中，并显示友好界面提示异常。
\subsection{R.XYZ.CLOUDSTORAGE.FILE.002 文件：打开}


逐条列出与本特性相关的功能需求。包括项目如何响应预期的错误输入，非法条件和无效输入。需求应该简明，完整，不含糊，可验证，必要的。 当需要的信息不确定的时候使用“待定”。
\subsubsection{输入}
This section consists of:
A. Detailed description of all input data of the function, including:
Source of input
Quantify
Measurement units
Timing requirements
Valid input range that contains the precision and tolerance
B. Reference of interface specification or interface control document that are provided in proper place.

本子段落应包含下列内容：

A. 对该功能所有输入数据的详细描述，包括：

		输入来源
		数量
		度量单位
		时间要求
		包含精度和容忍度的有效输入范围
		
B. 在适当的地方提供的对接口规格或接口控制文档的参考。
\subsubsection{处理}
Describes all the operations on the input data, and the process to get the output data, including the following specifications:
A. Verification of input data
B. Exact order of the operations, including the time sequene of each event.
C. Response to exception, such as:
		 Overflow
		Communication failure
		Error process
D. Any method used to transfer the input data to the output data. (such as equation,mathematic algorithm and logical operation)
For example.
		The formula to calculate the income tax in a pay roll.
		the weather model used for weather forecast
E. Verification of output data.
本子段落应描述对输入数据所执行的所有操作和如何获得输出的过程。这包括下列规格：

A. 输入数据的有效性检测。

B. 操作的确切次序，包括各事件的时序。

C. 对异常情况的回应，例如：
		溢出
		通信失败
		错误处理
D. 用于把系统输入转换到相应输出的任何方法（诸如方程式，数学算法，逻辑操作）。例如，这可能描述下列方面：
		对工资单里代扣所得税的计算公式。
		用于气象预报的气象模型。
		
E.	对输出数据的有效性检测。
\subsubsection{输出}
This section should include:
A. The detailed description of output data of the function, including:
		Target to output to (Such as a printer or a file)
		Quantity
		Measurement units
		Time sequence
		Valid output range including the precision and tolerance
		Process of the invalid value.
		Error message.
B. Reference of interface specification or interface control document that are provided in proper place.
For the systems with their requirements focused on the input/output actions, all the important input/output actions and the time sequences of the input/output pairs should be described in the SRS. In a system that inputs and actions are memorized as the basis for the reactions to be taken, the timing sequence for the input/output pairs must be available here. This kind of functional action is similar to a status machine.  
本子段落应包含：

A. 对该功能所有输出数据的详细描述，这个描述包括：
		输出的到何处（如打印机，文件）
		数量
		度量单位
		时序
		包含精确度和容忍度的有效输出范围
		对非法值的处理
		错误消息
		
B. 在适当的地方提供对接口规格或接口控制文档的参考。

此外，对那些需求集中在输入/输出行为的系统，SRS应描述所有重要的输入/输出行为及输入输出对的次序。对一个需要记忆其行为以根据输入和过去的行为进行反应的系统，输入输出对的次序是要求的；这种功能行为就类似于有限状态机。

\section{性能需求}

Summary of 性能需求

\subsection{服务器性能需求}

1. 云盘拥有公网ip，供全网用户访问，并发量应做到：允许1000用户同时访问网盘，并保证浏览指定文件夹的文件能在1s内完成

2. 本云盘为方便用户在不同终端访问文件与进行文件备份，故对磁盘存储空间要求较高：单个用户至少1TB，总空间在500TB左右。单用户文件数量在数百个左右，总数量在5000左右。

3. 至少需要1Gbps的有线互联网接入，以保证每个用户的下载速度

4. 为防止服务器宕机使得数据丢失，需要提供冗余机制

\subsection{客户端性能需求}

1. 用户使用普通浏览器访问网盘，不需要太高性能，普通智能手机与商务电脑即可支持

2. 用户端至少需要200KB/s的下载/上传网速来保证文件的正常下载、上传

\section{外部接口需求}
\subsection{用户接口}

用户使用浏览器访问给定的域名来访问云盘，在不同size的屏幕上自适应，支持Chrome，Edge，Firefox等主流浏览器。

对计算机基本使用较为熟悉的用户可以在不需要他人教学的情况下，10分钟能自主学会使用本软件

使用方式：
1. 上传、下载、删除重命名等功能按钮与右键菜单
2. 拖拽、复选框进行复选

在这里插入软件界面示意图

\subsection{软件接口}
<The interface with other system/modules/projects should be explained in detail. >

详细描述与其他系统 /模块 /项目之间的接口

Describes how to use the other (required) software products. (such as data management system, operation system, or algorithm tools package), and the interfaces to other application systems (such as interfaces between the protocol process system and the database management system )
For each required software product, following information should be provided:
A. Name
B. Mnemonic symbol
C. Version number
D. Source
For each interface, this section should:
A. Discuss the objective of the required software.
B. Define the interfaces by content and format of message/function. If the interfaces have been clearly described in other documents, it is not necessary to describe in detail here. But the reference of those documents should be given.

在此应描述如何使用其它（必需的）软件产品（例如，数据管理系统，操作系统，或算法工具包），以及与其它应用系统的接口（例如，协议处理系统和数据库管理系统之间的接口）。

对每个必需的软件产品，应提供下列信息：
A.	名字
B.	助记符
C.	版本号
D.	来源

对每个接口，本部分应：

A .	讨论与本软件产品相关的接口软件的目的。

B.	按消息/函数内容和格式定义接口。如果接口已在其它文档中很清楚地描述，就没有必要在这儿进行详细描述，但需说明应参考的文档。

\subsection{硬件接口}
<The interface with other hardware components should be explained in detail. >

详细描述与硬件的接口

Describes the logical features of the interface between the software and hardware components, including the equipment supported and how the equipment and protocol is supported. 

Defines the interfaces according to the content and format of the software/hardware protocol. If the interfaces have been clearly described in other documents, it is not necessary to describe in detail here. But the reference of those documents should be given.

在此描述软件产品和系统硬件组件之间接口的逻辑特征，也包括支持哪些设备、怎样支持这些设备和协议等。
 
按软/硬件协议内容和格式定义接口。如果接口已在其它文档中很清楚地描述，就没有必要在这儿进行详细描述，但需说明应参考的文档。

\subsection{通讯接口}
<This should specify the various interfaces to communications such as local network protocols, etc.>

详细描述通讯接口，如本地网络协议等。

Defines the interfaces according to the content and format of the message/function. If the interfaces have been clearly described in other documents, it is not necessary to describe in detail here. But the reference of those documents should be given.

按消息/函数内容和格式定义接口。如果接口已在其它文档中很清楚地描述，就没有必要在这儿进行详细描述，但需说明应参考的文档。
